C251 COMPILER V5.60.0,  SEEKFREE_IPS200_SPI                                                26/11/24  16:35:19  PAGE 1   


C251 COMPILER V5.60.0, COMPILATION OF MODULE SEEKFREE_IPS200_SPI
OBJECT MODULE PLACED IN .\Out_File\SEEKFREE_IPS200_SPI.obj
COMPILER INVOKED BY: C:\Keil_v5\C251\BIN\C251.EXE ..\..\Libraries\seekfree_peripheral\SEEKFREE_IPS200_SPI.c XSMALL WARNI
                    -NGLEVEL(3) OPTIMIZE(0,SPEED) BROWSE INCDIR(..\..\Libraries\libraries;..\..\Libraries\seekfree_libraries;..\..\Libraries\
                    -seekfree_peripheral;..\CODE;..\USER\inc;..\USER\src;..\..\Libraries\seekfree_components;..\CODE\UserLibraries;..\CODE\Al
                    -gorithms) DEBUG PRINT(.\Out_File\SEEKFREE_IPS200_SPI.lst) TABS(2) OBJECT(.\Out_File\SEEKFREE_IPS200_SPI.obj) 

stmt  level    source

    1          /********************************************************************************************************
             -*************
    2           * COPYRIGHT NOTICE
    3           * Copyright (c) 2018,Öð·É¿Æ¼¼
    4           * All rights reserved.
    5           * ¼¼ÊõÌÖÂÛQQÈº£ºÒ»Èº£º179029047(ÒÑÂú)  ¶þÈº£º244861897(ÒÑÂú)  ÈýÈº£º824575535
    6           *
    7           * ÒÔÏÂËùÓÐÄÚÈÝ°æÈ¨¾ùÊôÖð·É¿Æ¼¼ËùÓÐ£¬Î´¾­ÔÊÐí²»µÃÓÃÓÚÉÌÒµÓÃÍ¾£¬
    8           * »¶Ó­¸÷Î»Ê¹ÓÃ²¢´«²¥±¾³ÌÐò£¬ÐÞ¸ÄÄÚÈÝÊ±±ØÐë±£ÁôÖð·É¿Æ¼¼µÄ°æÈ¨ÉùÃ÷¡£
    9           *
   10           * @file          IPS200_SPI
   11           * @company       ³É¶¼Öð·É¿Æ¼¼ÓÐÏÞ¹«Ë¾
   12           * @author        Öð·É¿Æ¼¼(QQ3184284598)
   13           * @version       ²é¿´docÄÚversionÎÄ¼þ °æ±¾ËµÃ÷
   14           * @Software    MDK FOR C251 V5.60
   15           * @Target core   STC32F12K
   16           * @Taobao      https://seekfree.taobao.com/
   17           * @date          2019-11-15
   18           * @note    
   19                    ½ÓÏß¶¨Òå£º
   20                    ------------------------------------ 
   21                    2.0´çIPSÄ£¿é¹Ü½Å       µ¥Æ¬»ú¹Ü½Å
   22                    SCL                   ²é¿´SEEKFREE_IPS200_SPI.hÎÄ¼þÄÚµÄIPS200_SCL   ºê¶¨Òå     Ó²¼þSPIÒý½Å²»¿ÉËæÒâÇÐ»»
   23                    SDA                   ²é¿´SEEKFREE_IPS200_SPI.hÎÄ¼þÄÚµÄIPS200_SDA   ºê¶¨Òå     Ó²¼þSPIÒý½Å²»¿ÉËæÒâÇÐ»»
   24                    RES                   ²é¿´SEEKFREE_IPS200_SPI.hÎÄ¼þÄÚµÄIPS200_RST_PIN ºê¶¨Òå    
   25                    DC                    ²é¿´SEEKFREE_IPS200_SPI.hÎÄ¼þÄÚµÄIPS200_DC_PIN  ºê¶¨Òå  
   26                    CS                    ²é¿´SEEKFREE_IPS200_SPI.hÎÄ¼þÄÚµÄIPS200_CS    ºê¶¨Òå     Ó²¼þSPIÒý½Å²»¿ÉËæÒâÇÐ»»
   27                    BL            ²é¿´SEEKFREE_IPS200_SPI.hÎÄ¼þÄÚµÄIPS200_BL_PIN  ºê¶¨Òå
   28                    
   29                    µçÔ´Òý½Å
   30                    VCC 3.3VµçÔ´
   31                    GND µçÔ´µØ
   32                    ×î´ó·Ö±æÂÊ320*240
   33                    ------------------------------------ 
   34           ********************************************************************************************************
             -************/
   35          
   36          
   37          #include "SEEKFREE_IPS200_SPI.h"
   38          #include "SEEKFREE_FONT.h"
   39          #include "SEEKFREE_FUNCTION.h"
   40          
   41          
   42          #include "zf_spi.h"
   43          #include "zf_delay.h"
   44          
   45          static uint16 ips200_pencolor = IPS200_DEFAULT_PENCOLOR;
   46          static uint16 ips200_bgcolor  = IPS200_DEFAULT_BGCOLOR;
   47          
   48          static ips200_type_enum         ips200_display_type = IPS200_TYPE_SPI;
   49          static ips200_dir_enum          ips200_display_dir  = IPS200_DEFAULT_DISPLAY_DIR;
   50          static ips200_font_size_enum    ips200_display_font = IPS200_DEFAULT_DISPLAY_FONT;
   51          
   52          static uint16 ips200_x_max = 240;
   53          static uint16 ips200_y_max = 320;
   54          
C251 COMPILER V5.60.0,  SEEKFREE_IPS200_SPI                                                26/11/24  16:35:19  PAGE 2   

   55          //-------------------------------------------------------------------------------------------------------
             -------------
   56          // º¯Êý¼ò½é     IPS200 SPI Ð´ 8bit Êý¾Ý
   57          // ²ÎÊýËµÃ÷     data            Êý¾Ý
   58          // ·µ»Ø²ÎÊý     void
   59          // Ê¹ÓÃÊ¾Àý     ips200_write_8bit_data_spi(command);
   60          // ±¸×¢ÐÅÏ¢     ÄÚ²¿µ÷ÓÃ
   61          //-------------------------------------------------------------------------------------------------------
             -------------
   62          void ips200_write_8bit_data_spi(uint8 dat)    
   63          {
   64   1        spi_mosi(dat);
   65   1      
   66   1      }
   67          
   68          //-------------------------------------------------------------------------------------------------------
             -------------
   69          // º¯Êý¼ò½é     IPS200 SPI Ð´ 16bit Êý¾Ý
   70          // ²ÎÊýËµÃ÷     data            Êý¾Ý
   71          // ·µ»Ø²ÎÊý     void
   72          // Ê¹ÓÃÊ¾Àý     ips200_write_16bit_data_spi(dat);
   73          // ±¸×¢ÐÅÏ¢     ÄÚ²¿µ÷ÓÃ
   74          //-------------------------------------------------------------------------------------------------------
             -------------
   75          void ips200_write_16bit_data_spi(uint16 dat)   
   76          {
   77   1          uint8 dat1[2];
   78   1          dat1[0] = dat >> 8;
   79   1          dat1[1] = (uint8)dat;
   80   1        
   81   1        spi_mosi(dat1[0]);  //Ð´ÈëÊý¾Ý  ¸ßÎ»ÔÚÇ°  µÍÎ»ÔÚºó
   82   1        spi_mosi(dat1[1]);
   83   1      }
   84          
   85          
   86          //-------------------------------------------------------------------------------------------------------
             -------------
   87          // º¯Êý¼ò½é     IPS200 Ð´ÃüÁî
   88          // ²ÎÊýËµÃ÷     command         ÃüÁî
   89          // ·µ»Ø²ÎÊý     void
   90          // Ê¹ÓÃÊ¾Àý     ips200_write_command(0x2a);
   91          // ±¸×¢ÐÅÏ¢     ÄÚ²¿µ÷ÓÃ ÓÃ»§ÎÞÐè¹ØÐÄ
   92          //-------------------------------------------------------------------------------------------------------
             -------------
   93          static void ips200_write_command (const uint8 command)
   94          {
   95   1      
   96   1        IPS200_CS(1);
   97   1        IPS200_CS(0);
   98   1        IPS200_DC(0);
   99   1        ips200_write_8bit_data_spi(command);
  100   1        IPS200_DC(1);
  101   1        IPS200_CS(1);
  102   1        IPS200_CS(0);
  103   1      
  104   1      }
  105          
  106          //-------------------------------------------------------------------------------------------------------
             -------------
  107          // º¯Êý¼ò½é     IPS200 ÏòÒº¾§ÆÁÐ´ 8bit Êý¾Ý
  108          // ²ÎÊýËµÃ÷     dat             Êý¾Ý
  109          // ·µ»Ø²ÎÊý     void
  110          // Ê¹ÓÃÊ¾Àý     ips200_write_8bit_data(0x0C);
  111          // ±¸×¢ÐÅÏ¢     ÄÚ²¿µ÷ÓÃ ÓÃ»§ÎÞÐè¹ØÐÄ
  112          //-------------------------------------------------------------------------------------------------------
             -------------
C251 COMPILER V5.60.0,  SEEKFREE_IPS200_SPI                                                26/11/24  16:35:19  PAGE 3   

  113          static void ips200_write_8bit_data (const uint8 dat)
  114          {
  115   1        IPS200_CS(0);
  116   1          IPS200_DC(1);
  117   1        ips200_write_8bit_data_spi(dat);
  118   1        IPS200_CS(1);
  119   1      }
  120          
  121          //-------------------------------------------------------------------------------------------------------
             -------------
  122          // º¯Êý¼ò½é     IPS200 ÏòÒº¾§ÆÁÐ´ 16bit Êý¾Ý
  123          // ²ÎÊýËµÃ÷     dat             Êý¾Ý
  124          // ·µ»Ø²ÎÊý     void
  125          // Ê¹ÓÃÊ¾Àý     ips200_write_16bit_data(x1);
  126          // ±¸×¢ÐÅÏ¢     ÄÚ²¿µ÷ÓÃ ÓÃ»§ÎÞÐè¹ØÐÄ
  127          //-------------------------------------------------------------------------------------------------------
             -------------
  128          static void ips200_write_16bit_data (const uint16 dat)
  129          {
  130   1        IPS200_CS(0);
  131   1          IPS200_DC(1);
  132   1        ips200_write_16bit_data_spi(dat);
  133   1        IPS200_CS(1);
  134   1      }
  135          
  136          //-------------------------------------------------------------------------------------------------------
             -------------
  137          // º¯Êý¼ò½é     ÉèÖÃÏÔÊ¾ÇøÓò
  138          // ²ÎÊýËµÃ÷     x1              ÆðÊ¼xÖá×ø±ê
  139          // ²ÎÊýËµÃ÷     y1              ÆðÊ¼yÖá×ø±ê
  140          // ²ÎÊýËµÃ÷     x2              ½áÊøxÖá×ø±ê
  141          // ²ÎÊýËµÃ÷     y2              ½áÊøyÖá×ø±ê
  142          // ·µ»Ø²ÎÊý     void
  143          // Ê¹ÓÃÊ¾Àý     ips200_set_region(0, 0, ips200_x_max - 1, ips200_y_max - 1);
  144          // ±¸×¢ÐÅÏ¢     ÄÚ²¿µ÷ÓÃ ÓÃ»§ÎÞÐè¹ØÐÄ
  145          //-------------------------------------------------------------------------------------------------------
             -------------
  146          static void ips200_set_region (uint16 x1, uint16 y1, uint16 x2, uint16 y2)
  147          {
  148   1      
  149   1      
  150   1          ips200_write_command(0x2a);
  151   1          ips200_write_16bit_data(x1);
  152   1          ips200_write_16bit_data(x2);
  153   1          
  154   1          ips200_write_command(0x2b);
  155   1          ips200_write_16bit_data(y1);
  156   1          ips200_write_16bit_data(y2);
  157   1          
  158   1          ips200_write_command(0x2c);
  159   1      }
  160          
  161          
  162          //-------------------------------------------------------------------------------------------------------
             -------------
  163          // º¯Êý¼ò½é     IPS200 ÇåÆÁº¯Êý
  164          // ²ÎÊýËµÃ÷     void
  165          // ·µ»Ø²ÎÊý     void
  166          // Ê¹ÓÃÊ¾Àý     ips200_clear();
  167          // ±¸×¢ÐÅÏ¢     ½«ÆÁÄ»Çå¿Õ³É±³¾°ÑÕÉ«
  168          //-------------------------------------------------------------------------------------------------------
             -------------
  169          void ips200_clear (void)
  170          {
  171   1          uint16 i, j;
  172   1        IPS200_CS(0);
C251 COMPILER V5.60.0,  SEEKFREE_IPS200_SPI                                                26/11/24  16:35:19  PAGE 4   

  173   1      
  174   1          ips200_set_region(0, 0, ips200_x_max - 1, ips200_y_max - 1);
  175   1          for(i = 0; i < ips200_x_max; i ++)
  176   1          {
  177   2              for (j = 0; j < ips200_y_max; j ++)
  178   2              {
  179   3                  ips200_write_16bit_data(ips200_bgcolor);                 
  180   3              }
  181   2          }
  182   1      
  183   1        IPS200_CS(1);
  184   1      
  185   1      }
  186          
  187          //-------------------------------------------------------------------------------------------------------
             -------------
  188          // º¯Êý¼ò½é     IPS200 ÆÁÄ»Ìî³äº¯Êý
  189          // ²ÎÊýËµÃ÷     color           ÑÕÉ«¸ñÊ½ RGB565 »òÕß¿ÉÒÔÊ¹ÓÃ zf_common_font.h ÄÚ rgb565_color_enum Ã¶¾ÙÖµ
             -»òÕß×ÔÐÐÐ´Èë
  190          // ·µ»Ø²ÎÊý     void
  191          // Ê¹ÓÃÊ¾Àý     ips200_full(RGB565_BLACK);
  192          // ±¸×¢ÐÅÏ¢     ½«ÆÁÄ»Ìî³ä³ÉÖ¸¶¨ÑÕÉ«
  193          //-------------------------------------------------------------------------------------------------------
             -------------
  194          void ips200_full (const uint16 color)
  195          {
  196   1          uint16 i, j;
  197   1      
  198   1        IPS200_CS(0);
  199   1      
  200   1          ips200_set_region(0, 0, ips200_x_max - 1, ips200_y_max - 1);
  201   1          for(i = 0; i < ips200_x_max; i ++)
  202   1          {
  203   2              for (j = 0; j < ips200_y_max; j ++)
  204   2              {
  205   3                  ips200_write_16bit_data(color);                 
  206   3              }
  207   2          }
  208   1      
  209   1        IPS200_CS(1);
  210   1      
  211   1      }
  212          
  213          //-------------------------------------------------------------------------------------------------------
             -------------
  214          // º¯Êý¼ò½é     ÉèÖÃÏÔÊ¾·½Ïò
  215          // ²ÎÊýËµÃ÷     dir             ÏÔÊ¾·½Ïò  ²ÎÕÕ zf_device_ips200.h ÄÚ ips200_dir_enum Ã¶¾ÙÌå¶¨Òå
  216          // ·µ»Ø²ÎÊý     void
  217          // Ê¹ÓÃÊ¾Àý     ips200_set_dir(IPS200_PORTAIT);
  218          // ±¸×¢ÐÅÏ¢     Õâ¸öº¯ÊýÖ»ÓÐÔÚ³õÊ¼»¯ÆÁÄ»Ö®Ç°µ÷ÓÃ²ÅÉúÐ§
  219          //-------------------------------------------------------------------------------------------------------
             -------------
  220          void ips200_set_dir (ips200_dir_enum dir)
  221          {
  222   1          ips200_display_dir = dir;
  223   1          if(dir < 2)
  224   1          {
  225   2              ips200_x_max = 240;
  226   2              ips200_y_max = 320;
  227   2          }
  228   1          else
  229   1          {
  230   2              ips200_x_max = 320;
  231   2              ips200_y_max = 240;
  232   2          }
  233   1      }
C251 COMPILER V5.60.0,  SEEKFREE_IPS200_SPI                                                26/11/24  16:35:19  PAGE 5   

  234          
  235          //-------------------------------------------------------------------------------------------------------
             -------------
  236          // º¯Êý¼ò½é     ÉèÖÃÏÔÊ¾×ÖÌå
  237          // ²ÎÊýËµÃ÷     dir             ÏÔÊ¾·½Ïò  ²ÎÕÕ zf_device_ips200.h ÄÚ ips200_font_size_enum Ã¶¾ÙÌå¶¨Òå
  238          // ·µ»Ø²ÎÊý     void
  239          // Ê¹ÓÃÊ¾Àý     ips200_set_font(IPS200_8x16_FONT);
  240          // ±¸×¢ÐÅÏ¢     ×ÖÌå¿ÉÒÔËæÊ±×ÔÓÉÉèÖÃ ÉèÖÃºóÉúÐ§ ºóÐøÏÔÊ¾¾ÍÊÇÐÂµÄ×ÖÌå´óÐ¡
  241          //-------------------------------------------------------------------------------------------------------
             -------------
  242          void ips200_set_font (ips200_font_size_enum font)
  243          {
  244   1          ips200_display_font = font;
  245   1      }
  246          
  247          //-------------------------------------------------------------------------------------------------------
             -------------
  248          // º¯Êý¼ò½é     ÉèÖÃÏÔÊ¾ÑÕÉ«
  249          // ²ÎÊýËµÃ÷     pen             ÑÕÉ«¸ñÊ½ RGB565 »òÕß¿ÉÒÔÊ¹ÓÃ zf_common_font.h ÄÚ rgb565_color_enum Ã¶¾ÙÖµ
             -»òÕß×ÔÐÐÐ´Èë
  250          // ²ÎÊýËµÃ÷     bgcolor         ÑÕÉ«¸ñÊ½ RGB565 »òÕß¿ÉÒÔÊ¹ÓÃ zf_common_font.h ÄÚ rgb565_color_enum Ã¶¾ÙÖµ
             -»òÕß×ÔÐÐÐ´Èë
  251          // ·µ»Ø²ÎÊý     void
  252          // Ê¹ÓÃÊ¾Àý     ips200_set_color(RGB565_RED, RGB565_GRAY);
  253          // ±¸×¢ÐÅÏ¢     ×ÖÌåÑÕÉ«ºÍ±³¾°ÑÕÉ«Ò²¿ÉÒÔËæÊ±×ÔÓÉÉèÖÃ ÉèÖÃºóÉúÐ§
  254          //-------------------------------------------------------------------------------------------------------
             -------------
  255          void ips200_set_color (const uint16 pen, const uint16 bgcolor)
  256          {
  257   1          ips200_pencolor = pen;
  258   1          ips200_bgcolor = bgcolor;
  259   1      }
  260          
  261          //-------------------------------------------------------------------------------------------------------
             -------------
  262          // º¯Êý¼ò½é     IPS200 »­µã
  263          // ²ÎÊýËµÃ÷     x               ×ø±êx·½ÏòµÄÆðµã [0, ips200_x_max-1]
  264          // ²ÎÊýËµÃ÷     y               ×ø±êy·½ÏòµÄÆðµã [0, ips200_y_max-1]
  265          // ²ÎÊýËµÃ÷     color           ÑÕÉ«¸ñÊ½ RGB565 »òÕß¿ÉÒÔÊ¹ÓÃ zf_common_font.h ÄÚ rgb565_color_enum Ã¶¾ÙÖµ
             -»òÕß×ÔÐÐÐ´Èë
  266          // ·µ»Ø²ÎÊý     void
  267          // Ê¹ÓÃÊ¾Àý     ips200_draw_point(0, 0, RGB565_RED);            //×ø±ê0,0»­Ò»¸öºìÉ«µÄµã
  268          // ±¸×¢ÐÅÏ¢
  269          //-------------------------------------------------------------------------------------------------------
             -------------
  270          void ips200_draw_point (uint16 x, uint16 y, const uint16 color)
  271          {
  272   1      
  273   1      
  274   1        IPS200_CS(0);
  275   1      
  276   1          ips200_set_region(x, y, x, y);
  277   1          ips200_write_16bit_data(color);
  278   1      
  279   1        IPS200_CS(1);
  280   1      
  281   1      }
  282          
  283          //-------------------------------------------------------------------------------------------------------
             -------------
  284          // º¯Êý¼ò½é     IPS200 »­Ïß
  285          // ²ÎÊýËµÃ÷     x_start         ×ø±êx·½ÏòµÄÆðµã [0, ips200_x_max-1]
  286          // ²ÎÊýËµÃ÷     y_start         ×ø±êy·½ÏòµÄÆðµã [0, ips200_y_max-1]
  287          // ²ÎÊýËµÃ÷     x_end           ×ø±êx·½ÏòµÄÖÕµã [0, ips200_x_max-1]
  288          // ²ÎÊýËµÃ÷     y_end           ×ø±êy·½ÏòµÄÖÕµã [0, ips200_y_max-1]
  289          // ²ÎÊýËµÃ÷     color           ÑÕÉ«¸ñÊ½ RGB565 »òÕß¿ÉÒÔÊ¹ÓÃ zf_common_font.h ÄÚ rgb565_color_enum Ã¶¾ÙÖµ
C251 COMPILER V5.60.0,  SEEKFREE_IPS200_SPI                                                26/11/24  16:35:19  PAGE 6   

             -»òÕß×ÔÐÐÐ´Èë
  290          // ·µ»Ø²ÎÊý     void
  291          // Ê¹ÓÃÊ¾Àý     ips200_draw_line(0, 0, 10, 10, RGB565_RED);     // ×ø±ê 0,0 µ½ 10,10 »­Ò»ÌõºìÉ«µÄÏß
  292          // ±¸×¢ÐÅÏ¢
  293          //-------------------------------------------------------------------------------------------------------
             -------------
  294          void ips200_draw_line (uint16 x_start, uint16 y_start, uint16 x_end, uint16 y_end, const uint16 color)
  295          {
  296   1      
  297   1          int16 x_dir = (x_start < x_end ? 1 : -1);
  298   1          int16 y_dir = (y_start < y_end ? 1 : -1);
  299   1          float temp_rate = 0;
  300   1          float temp_b = 0;
  301   1      
  302   1          do
  303   1          {
  304   2              if(x_start != x_end)
  305   2              {
  306   3                  temp_rate = (float)(y_start - y_end) / (float)(x_start - x_end);
  307   3                  temp_b = (float)y_start - (float)x_start * temp_rate;
  308   3              }
  309   2              else
  310   2              {
  311   3                  while(y_start != y_end)
  312   3                  {
  313   4                      ips200_draw_point(x_start, y_start, color);
  314   4                      y_start += y_dir;
  315   4                  }
  316   3                  break;
  317   3              }
  318   2          
  319   2              if((func_abs(y_start - y_end)) > (func_abs(x_start - x_end)))
  320   2              {
  321   3                  while(y_start != y_end)
  322   3                  {
  323   4                      ips200_draw_point(x_start, y_start, color);
  324   4                      y_start += y_dir;
  325   4                      x_start = (int16)(((float)y_start - temp_b) / temp_rate);
  326   4                  }
  327   3              }
  328   2              else
  329   2              {
  330   3                  while(x_start != x_end)
  331   3                  {
  332   4                      ips200_draw_point(x_start, y_start, color);
  333   4                      x_start += x_dir;
  334   4                      y_start = (int16)((float)x_start * temp_rate + temp_b);
  335   4                  }
  336   3              }
  337   2          }while(0);
  338   1      }
  339          
  340          //-------------------------------------------------------------------------------------------------------
             -------------
  341          // º¯Êý¼ò½é     IPS200 ÏÔÊ¾×Ö·û
  342          // ²ÎÊýËµÃ÷     x               ×ø±êx·½ÏòµÄÆðµã ²ÎÊý·¶Î§ [0, ips200_x_max-1]
  343          // ²ÎÊýËµÃ÷     y               ×ø±êy·½ÏòµÄÆðµã ²ÎÊý·¶Î§ [0, ips200_y_max-1]
  344          // ²ÎÊýËµÃ÷     dat             ÐèÒªÏÔÊ¾µÄ×Ö·û
  345          // ·µ»Ø²ÎÊý     void
  346          // Ê¹ÓÃÊ¾Àý     ips200_show_char(0, 0, 'x');                     // ×ø±ê0,0Ð´Ò»¸ö×Ö·ûx
  347          // ±¸×¢ÐÅÏ¢
  348          //-------------------------------------------------------------------------------------------------------
             -------------
  349          void ips200_show_char (uint16 x, uint16 y, const char dat)
  350          {
  351   1          uint8 i, j;
C251 COMPILER V5.60.0,  SEEKFREE_IPS200_SPI                                                26/11/24  16:35:19  PAGE 7   

  352   1        uint8 temp_top;
  353   1        uint8 temp_bottom;
  354   1      
  355   1        IPS200_CS(0);
  356   1      
  357   1          switch(ips200_display_font)
  358   1          {
  359   2              case IPS200_6X8_FONT:
  360   2                  for(i = 0; i < 6; i ++)
  361   2                  {
  362   3                      ips200_set_region(x + i, y, x + i, y + 8);
  363   3                      // ¼õ 32 ÒòÎªÊÇÈ¡Ä£ÊÇ´Ó¿Õ¸ñ¿ªÊ¼È¡µÃ ¿Õ¸ñÔÚ ascii ÖÐÐòºÅÊÇ 32
  364   3                      temp_top = ascii_font_6x8[dat - 32][i];
  365   3                      for(j = 0; j < 8; j ++)
  366   3                      {
  367   4                          if(temp_top & 0x01)
  368   4                          {
  369   5                              ips200_write_16bit_data(ips200_pencolor);
  370   5                          }
  371   4                          else
  372   4                          {
  373   5                              ips200_write_16bit_data(ips200_bgcolor);
  374   5                          }
  375   4                          temp_top >>= 1;
  376   4                      }
  377   3                  }
  378   2                  break;
  379   2              case IPS200_8X16_FONT:
  380   2                  for(i = 0; i < 8; i ++)
  381   2                  {
  382   3                      ips200_set_region(x + i, y, x + i, y + 15);
  383   3                      // ¼õ 32 ÒòÎªÊÇÈ¡Ä£ÊÇ´Ó¿Õ¸ñ¿ªÊ¼È¡µÃ ¿Õ¸ñÔÚ ascii ÖÐÐòºÅÊÇ 32
  384   3                      temp_top = ascii_font_8x16[dat - 32][i];
  385   3                      temp_bottom = ascii_font_8x16[dat - 32][i + 8];
  386   3                      for(j = 0; j < 8; j ++)
  387   3                      {
  388   4                          if(temp_top & 0x01)
  389   4                          {
  390   5                              ips200_write_16bit_data(ips200_pencolor);
  391   5                          }
  392   4                          else
  393   4                          {
  394   5                              ips200_write_16bit_data(ips200_bgcolor);
  395   5                          }
  396   4                          temp_top >>= 1;
  397   4                      }
  398   3                      for(j = 0; j < 8; j ++)
  399   3                      {
  400   4                          if(temp_bottom & 0x01)
  401   4                          {
  402   5                              ips200_write_16bit_data(ips200_pencolor);
  403   5                          }
  404   4                          else
  405   4                          {
  406   5                              ips200_write_16bit_data(ips200_bgcolor);
  407   5                          }
  408   4                          temp_bottom >>= 1;
  409   4                      }
  410   3                  }
  411   2                  break;
  412   2              case IPS200_16X16_FONT:
  413   2                  // ÔÝ²»Ö§³Ö
  414   2                  break;
  415   2          }
  416   1      
  417   1        IPS200_CS(1);
C251 COMPILER V5.60.0,  SEEKFREE_IPS200_SPI                                                26/11/24  16:35:19  PAGE 8   

  418   1      
  419   1      }
  420          
  421          //-------------------------------------------------------------------------------------------------------
             -------------
  422          // º¯Êý¼ò½é     IPS200 ÏÔÊ¾×Ö·û´®
  423          // ²ÎÊýËµÃ÷     x               ×ø±êx·½ÏòµÄÆðµã ²ÎÊý·¶Î§ [0, ips200_x_max-1]
  424          // ²ÎÊýËµÃ÷     y               ×ø±êy·½ÏòµÄÆðµã ²ÎÊý·¶Î§ [0, ips200_y_max-1]
  425          // ²ÎÊýËµÃ÷     dat             ÐèÒªÏÔÊ¾µÄ×Ö·û´®
  426          // ·µ»Ø²ÎÊý     void
  427          // Ê¹ÓÃÊ¾Àý     ips200_show_string(0, 0, "seekfree");
  428          // ±¸×¢ÐÅÏ¢
  429          //-------------------------------------------------------------------------------------------------------
             -------------
  430          void ips200_show_string (uint16 x, uint16 y, const char dat[])
  431          {
  432   1      
  433   1          uint16 j = 0;
  434   1          while(dat[j] != '\0')
  435   1          {
  436   2              switch(ips200_display_font)
  437   2              {
  438   3                  case IPS200_6X8_FONT:
  439   3                      ips200_show_char(x + 6 * j, y, dat[j]);
  440   3                      j ++;
  441   3                      break;
  442   3                  case IPS200_8X16_FONT:
  443   3                      ips200_show_char(x + 8 * j, y, dat[j]);
  444   3                      j ++;
  445   3                      break;
  446   3                  case IPS200_16X16_FONT:
  447   3                      // ÔÝ²»Ö§³Ö
  448   3                      break;
  449   3              }
  450   2          }
  451   1      }
  452          
  453          //-------------------------------------------------------------------------------------------------------
             -------------
  454          // º¯Êý¼ò½é     IPS200 ÏÔÊ¾32Î»ÓÐ·ûºÅ (È¥³ýÕûÊý²¿·ÖÎÞÐ§µÄ0)
  455          // ²ÎÊýËµÃ÷     x               ×ø±êx·½ÏòµÄÆðµã ²ÎÊý·¶Î§ [0, ips200_x_max-1]
  456          // ²ÎÊýËµÃ÷     y               ×ø±êy·½ÏòµÄÆðµã ²ÎÊý·¶Î§ [0, ips200_y_max-1]
  457          // ²ÎÊýËµÃ÷     dat             ÐèÒªÏÔÊ¾µÄ±äÁ¿ Êý¾ÝÀàÐÍ int32
  458          // ²ÎÊýËµÃ÷     num             ÐèÒªÏÔÊ¾µÄÎ»Êý ×î¸ß10Î»  ²»°üº¬Õý¸ººÅ
  459          // ·µ»Ø²ÎÊý     void
  460          // Ê¹ÓÃÊ¾Àý     ips200_show_int(0, 0, x, 3);                    // x ¿ÉÒÔÎª int32 int16 int8 ÀàÐÍ
  461          // ±¸×¢ÐÅÏ¢     ¸ºÊý»áÏÔÊ¾Ò»¸ö ¡®-¡¯ºÅ   ÕýÊýÏÔÊ¾Ò»¸ö¿Õ¸ñ
  462          //-------------------------------------------------------------------------------------------------------
             -------------
  463          void ips200_show_int (uint16 x, uint16 y, const int32 dat, uint8 num)
  464          {
  465   1      
  466   1      
  467   1          int32 dat_temp = dat;
  468   1          int32 offset = 1;
  469   1          char data_buffer[12];
  470   1      
  471   1          memset(data_buffer, 0, 12);
  472   1          memset(data_buffer, ' ', num+1);
  473   1      
  474   1          if(num < 10)
  475   1          {
  476   2              for(; num > 0; num --)
  477   2              {
  478   3                  offset *= 10;
  479   3              }
C251 COMPILER V5.60.0,  SEEKFREE_IPS200_SPI                                                26/11/24  16:35:19  PAGE 9   

  480   2              dat_temp %= offset;
  481   2          }
  482   1          func_int_to_str(data_buffer, dat_temp);
  483   1          ips200_show_string(x, y, (const char *)&data_buffer);
  484   1      }
  485          
  486          //-------------------------------------------------------------------------------------------------------
             -------------
  487          // º¯Êý¼ò½é     IPS200 ÏÔÊ¾32Î»ÎÞ·ûºÅ (È¥³ýÕûÊý²¿·ÖÎÞÐ§µÄ0)
  488          // ²ÎÊýËµÃ÷     x               ×ø±êx·½ÏòµÄÆðµã ²ÎÊý·¶Î§ [0, IPS200_x_max-1]
  489          // ²ÎÊýËµÃ÷     y               ×ø±êy·½ÏòµÄÆðµã ²ÎÊý·¶Î§ [0, IPS200_y_max-1]
  490          // ²ÎÊýËµÃ÷     dat             ÐèÒªÏÔÊ¾µÄ±äÁ¿ Êý¾ÝÀàÐÍ uint32
  491          // ²ÎÊýËµÃ÷     num             ÐèÒªÏÔÊ¾µÄÎ»Êý ×î¸ß10Î»  ²»°üº¬Õý¸ººÅ
  492          // ·µ»Ø²ÎÊý     void
  493          // Ê¹ÓÃÊ¾Àý     ips200_show_uint(0, 0, x, 3);                   // x ¿ÉÒÔÎª uint32 uint16 uint8 ÀàÐÍ
  494          // ±¸×¢ÐÅÏ¢
  495          //-------------------------------------------------------------------------------------------------------
             -------------
  496          void ips200_show_uint (uint16 x, uint16 y, const uint32 dat, uint8 num)
  497          {
  498   1          uint32 dat_temp = dat;
  499   1          int32 offset = 1;
  500   1          char data_buffer[12];
  501   1          memset(data_buffer, 0, 12);
  502   1          memset(data_buffer, ' ', num);
  503   1      
  504   1          if(num < 10)
  505   1          {
  506   2              for(; num > 0; num --)
  507   2              {
  508   3                  offset *= 10;
  509   3              }
  510   2              dat_temp %= offset;
  511   2          }
  512   1          func_uint_to_str(data_buffer, dat_temp);
  513   1          ips200_show_string(x, y, (const char *)&data_buffer);
  514   1      }
  515          
  516          //-------------------------------------------------------------------------------------------------------
             -------------
  517          // º¯Êý¼ò½é     IPS200 ÏÔÊ¾¸¡µãÊý(È¥³ýÕûÊý²¿·ÖÎÞÐ§µÄ0)
  518          // ²ÎÊýËµÃ÷     x               ×ø±êx·½ÏòµÄÆðµã ²ÎÊý·¶Î§ [0, ips200_x_max-1]
  519          // ²ÎÊýËµÃ÷     y               ×ø±êy·½ÏòµÄÆðµã ²ÎÊý·¶Î§ [0, ips200_y_max-1]
  520          // ²ÎÊýËµÃ÷     dat             ÐèÒªÏÔÊ¾µÄ±äÁ¿£¬Êý¾ÝÀàÐÍfloat»òdouble
  521          // ²ÎÊýËµÃ÷     num             ÕûÊýÎ»ÏÔÊ¾³¤¶È   ×î¸ß8Î»
  522          // ²ÎÊýËµÃ÷     pointnum        Ð¡ÊýÎ»ÏÔÊ¾³¤¶È   ×î¸ß6Î»
  523          // ·µ»Ø²ÎÊý     void
  524          // Ê¹ÓÃÊ¾Àý     ips200_show_float(0, 0, x, 2, 3);               // ÏÔÊ¾¸¡µãÊý   ÕûÊýÏÔÊ¾2Î»   Ð¡ÊýÏÔÊ¾ÈýÎ
             -»
  525          // ±¸×¢ÐÅÏ¢     ÌØ±ð×¢Òâµ±·¢ÏÖÐ¡Êý²¿·ÖÏÔÊ¾µÄÖµÓëÄãÐ´ÈëµÄÖµ²»Ò»ÑùµÄÊ±ºò£¬
  526          //              ¿ÉÄÜÊÇÓÉÓÚ¸¡µãÊý¾«¶È¶ªÊ§ÎÊÌâµ¼ÖÂµÄ£¬Õâ²¢²»ÊÇÏÔÊ¾º¯ÊýµÄÎÊÌâ£¬
  527          //              ÓÐ¹ØÎÊÌâµÄÏêÇé£¬Çë×ÔÐÐ°Ù¶ÈÑ§Ï°   ¸¡µãÊý¾«¶È¶ªÊ§ÎÊÌâ¡£
  528          //              ¸ºÊý»áÏÔÊ¾Ò»¸ö ¡®-¡¯ºÅ   ÕýÊýÏÔÊ¾Ò»¸ö¿Õ¸ñ
  529          //-------------------------------------------------------------------------------------------------------
             -------------
  530          void ips200_show_float (uint16 x, uint16 y, const double dat, uint8 num, uint8 pointnum)
  531          {
  532   1      
  533   1          double dat_temp = dat;
  534   1          double offset = 1.0;
  535   1          char data_buffer[17];
  536   1          memset(data_buffer, 0, 17);
  537   1          memset(data_buffer, ' ', num+pointnum+2);
  538   1      
  539   1          if(num < 10)
  540   1          {
C251 COMPILER V5.60.0,  SEEKFREE_IPS200_SPI                                                26/11/24  16:35:19  PAGE 10  

  541   2              for(; num > 0; num --)
  542   2              {
  543   3                  offset *= 10;
  544   3              }
  545   2              dat_temp = dat_temp - ((int)dat_temp / (int)offset) * offset;
  546   2          }
  547   1          func_double_to_str(data_buffer, dat_temp, pointnum);
  548   1          ips200_show_string(x, y, data_buffer);
  549   1      }
  550          
  551          
  552          
  553          
  554          //-------------------------------------------------------------------------------------------------------
             -------------
  555          // º¯Êý¼ò½é     IPS200 ÏÔÊ¾²¨ÐÎ
  556          // ²ÎÊýËµÃ÷     x               ×ø±êx·½ÏòµÄÆðµã ²ÎÊý·¶Î§ [0, ips200_x_max-1]
  557          // ²ÎÊýËµÃ÷     y               ×ø±êy·½ÏòµÄÆðµã ²ÎÊý·¶Î§ [0, ips200_y_max-1]
  558          // ²ÎÊýËµÃ÷     *wave           ²¨ÐÎÊý×éÖ¸Õë
  559          // ²ÎÊýËµÃ÷     width           ²¨ÐÎÊµ¼Ê¿í¶È
  560          // ²ÎÊýËµÃ÷     value_max       ²¨ÐÎÊµ¼Ê×î´óÖµ
  561          // ²ÎÊýËµÃ÷     dis_width       ²¨ÐÎÏÔÊ¾¿í¶È ²ÎÊý·¶Î§ [0, ips200_x_max]
  562          // ²ÎÊýËµÃ÷     dis_value_max   ²¨ÐÎÏÔÊ¾×î´óÖµ ²ÎÊý·¶Î§ [0, ips200_y_max]
  563          // ·µ»Ø²ÎÊý     void
  564          // Ê¹ÓÃÊ¾Àý     ips200_show_wave(0, 0, data, 128, 64, 64, 32);
  565          // ±¸×¢ÐÅÏ¢
  566          //-------------------------------------------------------------------------------------------------------
             -------------
  567          void ips200_show_wave (uint16 x, uint16 y, const uint16 *wave, uint16 width, uint16 value_max, uint16 dis
             -_width, uint16 dis_value_max)
  568          {
  569   1      
  570   1          uint32 i = 0, j = 0;
  571   1          uint32 width_index = 0, value_max_index = 0;
  572   1      
  573   1      
  574   1        IPS200_CS(0);
  575   1      
  576   1          ips200_set_region(x, y, x + dis_width - 1, y + dis_value_max - 1);          // ÉèÖÃÏÔÊ¾ÇøÓò
  577   1          for(i = 0; i < dis_value_max; i ++)
  578   1          {
  579   2              for(j = 0; j < dis_width; j ++)
  580   2              {
  581   3                  ips200_write_16bit_data(ips200_bgcolor); 
  582   3              }
  583   2          }
  584   1      
  585   1        IPS200_CS(1);
  586   1      
  587   1      
  588   1          for(i = 0; i < dis_width; i ++)
  589   1          {
  590   2              width_index = i * width / dis_width;
  591   2              value_max_index = *(wave + width_index) * (dis_value_max - 1) / value_max;
  592   2              ips200_draw_point(i + x, (dis_value_max - 1) - value_max_index + y, ips200_pencolor);
  593   2          }
  594   1      }
  595          
  596          //-------------------------------------------------------------------------------------------------------
             -------------
  597          // º¯Êý¼ò½é     ºº×ÖÏÔÊ¾
  598          // ²ÎÊýËµÃ÷     x               ×ø±êx·½ÏòµÄÆðµã ²ÎÊý·¶Î§ [0, ips200_x_max-1]
  599          // ²ÎÊýËµÃ÷     y               ×ø±êy·½ÏòµÄÆðµã ²ÎÊý·¶Î§ [0, ips200_y_max-1]
  600          // ²ÎÊýËµÃ÷     size            È¡Ä£µÄÊ±ºòÉèÖÃµÄºº×Ö×ÖÌå´óÐ¡ Ò²¾ÍÊÇÒ»¸öºº×ÖÕ¼ÓÃµÄµãÕó³¤¿íÎª¶àÉÙ¸öµã È¡Ä£µ
             -ÄÊ±ºòÐèÒª³¤¿íÊÇÒ»ÑùµÄ
  601          // ²ÎÊýËµÃ÷     *chinese_buffer ÐèÒªÏÔÊ¾µÄºº×ÖÊý×é
C251 COMPILER V5.60.0,  SEEKFREE_IPS200_SPI                                                26/11/24  16:35:19  PAGE 11  

  602          // ²ÎÊýËµÃ÷     number          ÐèÒªÏÔÊ¾¶àÉÙÎ»
  603          // ²ÎÊýËµÃ÷     color           ÑÕÉ«¸ñÊ½ RGB565 »òÕß¿ÉÒÔÊ¹ÓÃ zf_common_font.h ÄÚ rgb565_color_enum Ã¶¾ÙÖµ
             -»òÕß×ÔÐÐÐ´Èë
  604          // ·µ»Ø²ÎÊý     void
  605          // Ê¹ÓÃÊ¾Àý     ips200_show_chinese(0, 0, 16, chinese_test[0], 4, RGB565_RED);//ÏÔÊ¾fontÎÄ¼þÀïÃæµÄ Ê¾Àý
  606          // ±¸×¢ÐÅÏ¢     Ê¹ÓÃPCtoLCD2002Èí¼þÈ¡Ä£           ÒõÂë¡¢ÖðÐÐÊ½¡¢Ë³Ïò   16*16
  607          //-------------------------------------------------------------------------------------------------------
             -------------
  608          void ips200_show_chinese (uint16 x, uint16 y, uint8 size, const uint8 *chinese_buffer, uint8 number, cons
             -t uint16 color)
  609          {
  610   1      
  611   1      
  612   1          int i, j, k;
  613   1          uint8 temp, temp1, temp2;
  614   1          const uint8 *p_data;
  615   1          
  616   1          temp2 = size / 8;
  617   1          
  618   1      
  619   1        IPS200_CS(0);
  620   1      
  621   1          ips200_set_region(x, y, number * size - 1 + x, y + size - 1);
  622   1          
  623   1          for(i = 0; i < size; i ++)
  624   1          {
  625   2              temp1 = number;
  626   2              p_data = chinese_buffer + i * temp2;
  627   2              while(temp1 --)
  628   2              {
  629   3                  for(k = 0; k < temp2; k ++)
  630   3                  {
  631   4                      for(j = 8; j > 0; j --)
  632   4                      {
  633   5                          temp = (*p_data >> (j - 1)) & 0x01;
  634   5                          if(temp)
  635   5                          {
  636   6                              ips200_write_16bit_data(color);
  637   6                          }
  638   5                          else
  639   5                          {
  640   6                              ips200_write_16bit_data(ips200_bgcolor);
  641   6                          }
  642   5                      }
  643   4                      p_data ++;
  644   4                  }
  645   3                  p_data = p_data - temp2 + temp2 * size;
  646   3              }   
  647   2          }
  648   1      
  649   1        IPS200_CS(1);
  650   1      
  651   1      }
  652          
  653          //-------------------------------------------------------------------------------------------------------
             -------------
  654          // º¯Êý¼ò½é     2´ç IPSÒº¾§³õÊ¼»¯
  655          // ²ÎÊýËµÃ÷     type_select     Á½´çÆÁ½Ó¿ÚÀàÐÍ IPS200_TYPE_SPI Îª SPI ½Ó¿Ú´®¿ÚÁ½´çÆÁ IPS200_TYPE_PARALLEL
             -8 Îª 8080 Ð­Òé°ËÎ»²¢¿ÚÁ½´çÆÁ
  656          // ·µ»Ø²ÎÊý     void
  657          // Ê¹ÓÃÊ¾Àý     ips200_init(IPS200_TYPE_PARALLEL8);
  658          // ±¸×¢ÐÅÏ¢
  659          //-------------------------------------------------------------------------------------------------------
             -------------
  660          void ips200_init_spi ()
  661          {
C251 COMPILER V5.60.0,  SEEKFREE_IPS200_SPI                                                26/11/24  16:35:19  PAGE 12  

  662   1        IPS200_BL(1);
  663   1        IPS200_DC(0);
  664   1        IPS200_RST(0);
  665   1        
  666   1      
  667   1        spi_init(IPS200_SPIN_PIN, IPS200_SCL_PIN, IPS200_SDA_PIN, IPS200_SDA_IN_PIN, 0, MASTER, SPI_SYSclk_DIV_2
             -);
  668   1      
  669   1      
  670   1        
  671   1      
  672   1          ips200_set_dir(ips200_display_dir);
  673   1          ips200_set_color(ips200_pencolor, ips200_bgcolor);
  674   1      
  675   1          
  676   1          IPS200_BL(1);
  677   1          IPS200_RST(0);  
  678   1          delay_ms(5);
  679   1          IPS200_RST(1);      
  680   1          delay_ms(120);
  681   1          
  682   1      
  683   1        IPS200_CS(0);
  684   1      
  685   1          ips200_write_command(0x11);
  686   1          delay_ms(120);
  687   1      
  688   1          ips200_write_command(0x36);
  689   1          if(ips200_display_dir == 0)
  690   1          {
  691   2              ips200_write_8bit_data(0x00);
  692   2          }
  693   1          else if(ips200_display_dir == 1)
  694   1          {
  695   2              ips200_write_8bit_data(0xC0);
  696   2          }
  697   1          else if(ips200_display_dir == 2)
  698   1          {
  699   2              ips200_write_8bit_data(0x70);
  700   2          }
  701   1          else
  702   1          {
  703   2              ips200_write_8bit_data(0xA0);
  704   2          }
  705   1      
  706   1          ips200_write_command(0x3A);            
  707   1          ips200_write_8bit_data(0x05);
  708   1          
  709   1          ips200_write_command(0xB2);            
  710   1          ips200_write_8bit_data(0x0C);
  711   1          ips200_write_8bit_data(0x0C); 
  712   1          ips200_write_8bit_data(0x00); 
  713   1          ips200_write_8bit_data(0x33); 
  714   1          ips200_write_8bit_data(0x33);           
  715   1      
  716   1          ips200_write_command(0xB7);            
  717   1          ips200_write_8bit_data(0x35);
  718   1      
  719   1          ips200_write_command(0xBB);            
  720   1          ips200_write_8bit_data(0x29);                                               // 32 Vcom=1.35V
  721   1                                                                  
  722   1          ips200_write_command(0xC2);            
  723   1          ips200_write_8bit_data(0x01);
  724   1      
  725   1          ips200_write_command(0xC3);            
  726   1          ips200_write_8bit_data(0x19);                                               // GVDD=4.8V 
C251 COMPILER V5.60.0,  SEEKFREE_IPS200_SPI                                                26/11/24  16:35:19  PAGE 13  

  727   1                                                                  
  728   1          ips200_write_command(0xC4);            
  729   1          ips200_write_8bit_data(0x20);                                               // VDV, 0x20:0v
  730   1      
  731   1          ips200_write_command(0xC5);            
  732   1          ips200_write_8bit_data(0x1A);                                               // VCOM Offset Set
  733   1      
  734   1          ips200_write_command(0xC6);            
  735   1          ips200_write_8bit_data(0x01F);                                              // 0x0F:60Hz          
  736   1      
  737   1          ips200_write_command(0xD0);            
  738   1          ips200_write_8bit_data(0xA4);
  739   1          ips200_write_8bit_data(0xA1);                                                                        
             -                                                                                                                   
  740   1                      
  741   1          ips200_write_command(0xE0);     
  742   1          ips200_write_8bit_data(0xD0);   
  743   1          ips200_write_8bit_data(0x08);   
  744   1          ips200_write_8bit_data(0x0E);   
  745   1          ips200_write_8bit_data(0x09);   
  746   1          ips200_write_8bit_data(0x09);   
  747   1          ips200_write_8bit_data(0x05);   
  748   1          ips200_write_8bit_data(0x31);   
  749   1          ips200_write_8bit_data(0x33);   
  750   1          ips200_write_8bit_data(0x48);   
  751   1          ips200_write_8bit_data(0x17);   
  752   1          ips200_write_8bit_data(0x14);   
  753   1          ips200_write_8bit_data(0x15);   
  754   1          ips200_write_8bit_data(0x31);   
  755   1          ips200_write_8bit_data(0x34);   
  756   1      
  757   1          ips200_write_command(0xE1);     
  758   1          ips200_write_8bit_data(0xD0);   
  759   1          ips200_write_8bit_data(0x08);   
  760   1          ips200_write_8bit_data(0x0E);   
  761   1          ips200_write_8bit_data(0x09);   
  762   1          ips200_write_8bit_data(0x09); 
  763   1          ips200_write_8bit_data(0x15);   
  764   1          ips200_write_8bit_data(0x31);   
  765   1          ips200_write_8bit_data(0x33);   
  766   1          ips200_write_8bit_data(0x48);   
  767   1          ips200_write_8bit_data(0x17);   
  768   1          ips200_write_8bit_data(0x14);   
  769   1          ips200_write_8bit_data(0x15);   
  770   1          ips200_write_8bit_data(0x31);   
  771   1          ips200_write_8bit_data(0x34);   
  772   1      
  773   1          ips200_write_command(0x21);
  774   1          
  775   1          ips200_write_command(0x29);
  776   1      
  777   1        IPS200_CS(1);
  778   1      
  779   1      
  780   1          ips200_clear();                                                             // ³õÊ¼»¯Îª°×ÆÁ
  781   1      }


Module Information          Static   Overlayable
------------------------------------------------
  code size            =      3238     ------
  ecode size           =    ------     ------
  data size            =    ------     ------
  idata size           =    ------     ------
  pdata size           =    ------     ------
  xdata size           =    ------     ------
  xdata-const size     =    ------     ------
C251 COMPILER V5.60.0,  SEEKFREE_IPS200_SPI                                                26/11/24  16:35:19  PAGE 14  

  edata size           =       246     ------
  bit size             =    ------     ------
  ebit size            =    ------     ------
  bitaddressable size  =    ------     ------
  ebitaddressable size =    ------     ------
  far data size        =    ------     ------
  huge data size       =    ------     ------
  const size           =    ------     ------
  hconst size          =        42     ------
End of Module Information.


C251 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
